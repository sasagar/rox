@import "tailwindcss";
@import "./mfm.css";

@theme {
  /* Primary color palette - dynamically set by ThemeProvider */
  /* Default: Blue (#3b82f6) in OKLCH color space */
  --color-primary-50: oklch(98% 0.01 230);
  --color-primary-100: oklch(95% 0.04 230);
  --color-primary-200: oklch(90% 0.08 230);
  --color-primary-300: oklch(83% 0.12 230);
  --color-primary-400: oklch(75% 0.16 230);
  --color-primary-500: oklch(68% 0.20 230);
  --color-primary-600: oklch(58% 0.19 230);
  --color-primary-700: oklch(48% 0.15 230);
  --color-primary-800: oklch(38% 0.11 230);
  --color-primary-900: oklch(30% 0.08 230);
  --color-primary-950: oklch(20% 0.04 230);

  /* Animations */
  --animate-slide-in: slide-in 0.3s ease-out;
  --animate-spin: spin 1s linear infinite;
  --animate-indeterminate: indeterminate 1.5s ease-in-out infinite;
}

/* Light mode (default) */
:root {
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --bg-tertiary: #f3f4f6;
  --text-primary: #111827;
  --text-secondary: #4b5563;
  --text-muted: #9ca3af;
  --border-color: #e5e7eb;
  --card-bg: #ffffff;
  --card-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);

  /* UI Settings - Default values (medium) */
  --rox-font-size: 14px;
  --rox-line-height: 1.6;
  --rox-content-width: 800px;

  /* Base font size for scaling (percentage of --rox-font-size relative to 14px) */
  --rox-font-scale: 1;
}

/* Dark mode */
.dark {
  --bg-primary: #111827;
  --bg-secondary: #1f2937;
  --bg-tertiary: #374151;
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --text-muted: #9ca3af;
  --border-color: #374151;
  --card-bg: #1f2937;
  --card-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
}

/* Apply theme colors and UI settings to root elements */
html {
  /* Apply font size to root for global scaling */
  font-size: var(--rox-font-size);
}

body {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  line-height: var(--rox-line-height);
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Toast notification animations */
@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Spinner animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Indeterminate progress bar animation */
@keyframes indeterminate {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(100%);
  }
}

/* UI Settings - Applied to main content areas */
.rox-content {
  font-size: var(--rox-font-size);
  line-height: var(--rox-line-height);
}

.rox-content-container {
  max-width: var(--rox-content-width);
}

/* Note content styling with UI settings */
.note-content {
  font-size: var(--rox-font-size);
  line-height: var(--rox-line-height);
}

/* User profile content */
.profile-bio {
  font-size: var(--rox-font-size);
  line-height: var(--rox-line-height);
}

/* iOS Safari input zoom prevention
 * Safari zooms on input focus when font-size < 16px.
 * Using max() ensures minimum 16px while respecting user's font settings.
 */
@supports (-webkit-touch-callout: none) {
  input,
  textarea,
  select {
    font-size: max(16px, 1rem);
  }
}
