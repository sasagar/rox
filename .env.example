# Application Configuration
PORT=3000
NODE_ENV=development
URL=http://localhost:3000

# Database Configuration
# Options: postgres, mysql, sqlite, d1
DB_TYPE=postgres

# PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/rox

# MySQL/MariaDB
# DATABASE_URL=mysql://user:password@localhost:3306/rox

# SQLite (local development)
# DATABASE_URL=sqlite://./rox.db

# Cloudflare D1 (edge deployment)
# D1_DATABASE_ID=your-d1-database-id

# Storage Configuration
# Options: local, s3
STORAGE_TYPE=local

# Local Storage (development)
LOCAL_STORAGE_PATH=./uploads

# S3-Compatible Storage (AWS S3, Cloudflare R2, MinIO)
S3_ENDPOINT=https://your-account.r2.cloudflarestorage.com
S3_BUCKET_NAME=rox-media
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key
S3_REGION=auto
S3_PUBLIC_URL=https://media.your-domain.com

# File Upload Configuration
MAX_FILE_SIZE=10485760
MAX_FILES_PER_NOTE=4
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,image/webp,video/mp4,video/webm

# Authentication Configuration
SESSION_EXPIRY_DAYS=30
JWT_SECRET=your-secure-random-secret-here

# Federation Configuration (Phase 4)
ENABLE_FEDERATION=false
INSTANCE_NAME=Rox Instance
INSTANCE_DESCRIPTION=A lightweight ActivityPub server
ADMIN_EMAIL=admin@example.com

# Queue Configuration (for ActivityPub delivery)
REDIS_URL=redis://localhost:6379
DELIVERY_RETRY_ATTEMPTS=3

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_WEBP_CONVERSION=false

# Moderation Configuration
# Set to true to require invitation codes for user registration
REQUIRE_INVITATION=false
