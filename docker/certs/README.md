# SSL Certificates for Local Development

This directory contains SSL certificates for local HTTPS development.

## Certificate Files

The following files are expected (generated by mkcert):
- `localhost+2.pem` - Certificate file
- `localhost+2-key.pem` - Private key file

These files are gitignored and must be generated locally.

## Automatic Generation (DevContainer)

When using VS Code/Cursor DevContainer, certificates are automatically generated
during the `postCreateCommand` phase. No manual action required.

## Manual Generation

If you need to generate certificates manually:

### 1. Install mkcert

**macOS (Homebrew):**
```bash
brew install mkcert
```

**Linux (apt):**
```bash
sudo apt install libnss3-tools
curl -JLO "https://dl.filippo.io/mkcert/latest?for=linux/amd64"
chmod +x mkcert-v*-linux-amd64
sudo mv mkcert-v*-linux-amd64 /usr/local/bin/mkcert
```

**Windows (Chocolatey):**
```powershell
choco install mkcert
```

### 2. Install Root CA

```bash
mkcert -install
```

This installs the mkcert root CA into your system trust store.

### 3. Generate Certificates

From the repository root:
```bash
docker/scripts/generate-certs.sh
```

Or manually:
```bash
cd docker/certs
mkcert localhost 127.0.0.1 ::1
```

This generates:
- `localhost+2.pem`
- `localhost+2-key.pem`

## Troubleshooting

### Certificate not trusted

1. Ensure you ran `mkcert -install`
2. Restart your browser after installing the root CA
3. For Firefox, you may need to manually import the CA:
   - Find the CA: `mkcert -CAROOT`
   - Import `rootCA.pem` in Firefox settings

### Permission denied

Ensure the certificate files are readable:
```bash
chmod 644 docker/certs/*.pem
```
